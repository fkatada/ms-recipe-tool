{
  "name": "Document Generator Docpack",
  "description": "Generates a docpack outline to be used by the Document Generator.",
  "inputs": {
    "model": {
      "description": "LLM model to use for generation.",
      "type": "string",
      "default": "openai/gpt-4o"
    },
    "output_root": {
      "description": "Directory to save the generated docpack.",
      "type": "string",
      "default": "output"
    },
    "document_description": {
      "description": "Description of the document to generate.",
      "type": "string",
      "default": "Create a comprehensive document outline"
    },
    "resources": {
      "description": "List of resource file paths to include in the outline.",
      "type": "array",
      "default": []
    },
    "docpack_name": {
      "description": "Name of the docpack to generate.",
      "type": "string",
      "default": ""
    }
  },
  "steps": [
    {
      "type": "set_context",
      "config": {
        "key": "model",
        "value": "{{ model | default: 'openai/gpt-4o' }}"
      }
    },
    {
      "type": "set_context",
      "config": {
        "key": "output_root",
        "value": "{{ output_root | default: 'output' }}"
      }
    },
    {
      "type": "set_context",
      "config": {
        "key": "docpack_name",
        "value": "{{ docpack_name | default: 'document.docpack' }}"
      }
    },
    {
      "type": "set_context",
      "config": {
        "key": "recipe_root",
        "value": "{{ recipe_root | default: 'recipes/document_generator' }}"
      }
    },
    {
      "type": "execute_recipe",
      "config": {
        "recipe_path": "{{ recipe_root }}/recipes/generate_outline.json"
      }
    },
    {
      "type": "docpack_create",
      "config": {
        "outline_path": "{{ output_root }}/outline.json",
        "resource_files": "{{ resources }}",
        "output_path": "{{ output_root }}/{{ docpack_name }}",
        "output_key": "docpack_result"
      }
    }
  ]
}
